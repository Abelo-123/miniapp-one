const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OrderPage-Btorz1I5.js","assets/react-vendor-C-oIHjE7.js","assets/tma-ui-BXUja-_9.js","assets/tma-ui-CjZnkA_L.css","assets/tma-sdk-B1EfXx2E.js","assets/HistoryPage-DP0ABU2t.js","assets/DepositPage-Tzw0FBOg.js","assets/MorePage-BLKeAD4J.js","assets/eruda-BSaaGdH0.js"])))=>i.map(i=>d[i]);
import{r as n,j as o,d as Te}from"./react-vendor-C-oIHjE7.js";import{T as q,S as Ce,a as Ae,A as K,P as Pe}from"./tma-ui-BXUja-_9.js";import{z as S,Y as p,U as P,Z as y,n as z,h as w,W as ke,G as k,j as we,L as Ee,D as H,l as je,J as Oe,H as Le,P as Ie,a as Me,$ as De,b as Re,c as Be,e as Fe,T as $,N as Ne,C as Ue,u as Ve,S as W,g as qe,K as ze,d as Y}from"./tma-sdk-B1EfXx2E.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(r){if(r.ep)return;r.ep=!0;const c=t(r);fetch(r.href,c)}})();const He="modulepreload",$e=function(e){return"/miniapp-one/"+e},G={},_=function(s,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");r=Promise.allSettled(t.map(m=>{if(m=$e(m),m in G)return;G[m]=!0;const g=m.endsWith(".css"),A=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${A}`))return;const h=document.createElement("link");if(h.rel=g?"stylesheet":He,g||(h.as="script"),h.crossOrigin="",h.href=m,f&&h.setAttribute("nonce",f),document.head.appendChild(h),g)return new Promise((E,T)=>{h.addEventListener("load",E),h.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return r.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return s().catch(c)})},We="/api",Ye=[{id:"instagram",label:"Instagram",icon:"ðŸ“¸",keywords:["instagram","ig "],placeholder:"https://instagram.com/username"},{id:"tiktok",label:"TikTok",icon:"ðŸŽµ",keywords:["tiktok","tik tok"],placeholder:"https://tiktok.com/@username/video/..."},{id:"youtube",label:"YouTube",icon:"â–¶ï¸",keywords:["youtube","yt "],placeholder:"https://youtube.com/watch?v=..."},{id:"facebook",label:"Facebook",icon:"ðŸ‘¤",keywords:["facebook","fb "],placeholder:"https://facebook.com/..."},{id:"twitter",label:"Twitter / X",icon:"ðŸ¦",keywords:["twitter","x.com","tweet"],placeholder:"https://x.com/username/status/..."},{id:"telegram",label:"Telegram",icon:"âœˆï¸",keywords:["telegram","tg "],placeholder:"https://t.me/channel_name"},{id:"other",label:"Other",icon:"ðŸŒ",keywords:[],placeholder:"https://..."},{id:"top",label:"Top",icon:"â­",keywords:[],placeholder:"https://..."}];function It(e,s){const t=e.toLowerCase();return t.includes("follower")||t.includes("subscriber")?"Profile URL":t.includes("like")||t.includes("view")||t.includes("comment")?"Post/Video URL":Ye.find(r=>r.id===s)?.placeholder||"https://..."}function Mt(e){return e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" ETB"}const Ge=3e3,Dt=10;let C=null;function Q(){if(C!==null)return C;try{w(),C=!0}catch{C=!1}return C}function v(){try{S.selectionChanged.isAvailable()&&S.selectionChanged()}catch{}}function Je(e="medium"){try{S.impactOccurred.isAvailable()&&S.impactOccurred(e)}catch{}}function Ke(e){try{S.notificationOccurred.isAvailable()&&S.notificationOccurred(e)}catch{}}async function Z(e,s){try{k.setItem.isAvailable()&&await k.setItem(e,s)}catch{}}async function X(e){try{if(k.getItem.isAvailable())return await k.getItem(e)}catch{}}function Qe(){try{P.enableConfirmation.isAvailable()&&P.enableConfirmation()}catch{}}function Ze(){try{P.disableConfirmation.isAvailable()&&P.disableConfirmation()}catch{}}function Xe(e){try{p.setParams.isAvailable()&&p.setParams({text:e.text,backgroundColor:e.color,textColor:e.textColor,isEnabled:e.isEnabled,isVisible:e.isVisible??!0,isLoaderVisible:e.isLoaderVisible})}catch{}}function et(){try{p.setParams.isAvailable()&&p.setParams({isVisible:!0})}catch{}}function tt(){try{p.setParams.isAvailable()&&p.setParams({isVisible:!1})}catch{}}function rt(e){try{if(p.onClick.isAvailable())return p.onClick(e)}catch{}return()=>{}}function ee(){try{z.expand.isAvailable()&&z.expand()}catch{}}function te(){try{return ke.state()?.user??null}catch{return null}}function re(){try{y.ready.isAvailable()&&y.ready()}catch{}}function st(e){try{y.setHeaderColor.isAvailable()&&y.setHeaderColor(e)}catch{}}function at(e){try{y.setBackgroundColor.isAvailable()&&y.setBackgroundColor(e)}catch{}}const nt=Object.freeze(Object.defineProperty({__proto__:null,cloudGet:X,cloudSet:Z,configureMainButton:Xe,disableClosingConfirmation:Ze,enableClosingConfirmation:Qe,expandViewport:ee,getInitDataUser:te,hapticImpact:Je,hapticNotification:Ke,hapticSelection:v,hideMainButton:tt,isTelegramEnv:Q,onMainButtonClick:rt,setBackgroundColor:at,setHeaderColor:st,showMainButton:et,signalReady:re},Symbol.toStringTag,{value:"Module"}));async function x(e,s){const t=`${We}${e}`,i=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json"},...s});if(!i.ok){const r=await i.text();throw new Error(r||`HTTP ${i.status}`)}return i.json()}async function ot(e=!1){return x(`/get_service.php${e?"?refresh=1":""}`)}async function it(){return x("/get_recommended.php")}async function ct(){return x("/get_orders.php")}async function lt(){return x("/get_deposits.php")}async function dt(){return x("/get_alerts.php")}async function ut(){return x("/get_settings.php")}const se=n.createContext(null);function L(){const e=n.useContext(se);if(!e)throw new Error("useApp must be used within AppProvider");return e}function ft({children:e}){const s=Q(),[t,i]=n.useState(null),[r,c]=n.useState([]),[u,f]=n.useState([]),[m,g]=n.useState(null),[A,h]=n.useState(null),[E,T]=n.useState(null),[ae,I]=n.useState([]),[ne,M]=n.useState([]),[oe,D]=n.useState([]),[ie,ce]=n.useState([]),[le,R]=n.useState("order"),[de,j]=n.useState([]),[ue,fe]=n.useState(!1),[me,B]=n.useState(0),[b,he]=n.useState({rateMultiplier:1,discountPercent:0,holidayName:"",maintenanceMode:!1,userCanOrder:!0,marqueeText:"Welcome to Paxyo SMM!"}),F=n.useCallback(async()=>{try{const l=(await ot(!0)).map(d=>({id:d.service,category:d.category,name:d.name,type:d.type,rate:parseFloat(d.rate),min:d.min,max:d.max,averageTime:d.average_time||d.averageTime||"",refill:d.refill,cancel:d.cancel}));c(l)}catch(a){console.error("Failed to fetch services:",a)}},[]),N=n.useCallback(async()=>{try{const a=await ct();I(a.orders||[])}catch(a){console.error("Failed to fetch orders:",a)}},[]),U=n.useCallback(async()=>{try{const a=await lt();M(a||[])}catch(a){console.error("Failed to fetch deposits:",a)}},[]),V=n.useCallback(async()=>{try{const a=await dt();D(a.alerts||[]),B(a.unread_count||0)}catch(a){console.error("Failed to fetch alerts:",a)}},[]);n.useEffect(()=>{(async()=>{try{const l=await ut();he(l)}catch(l){console.error("Failed to fetch settings:",l)}await F();try{const l=await it();f(l||[])}catch(l){console.error("Failed to fetch recommended:",l)}N(),U(),V()})()},[]);const pe=n.useCallback(a=>{i(l=>l&&{...l,balance:a})},[]),ye=n.useCallback((a,l)=>{const d=Date.now().toString()+Math.random().toString(36).slice(2);j(O=>[...O,{id:d,type:a,message:l}]),setTimeout(()=>{j(O=>O.filter(xe=>xe.id!==d))},Ge)},[]),ge=n.useCallback(a=>{j(l=>l.filter(d=>d.id!==a))},[]);n.useEffect(()=>{h(null),T(null)},[m]),n.useEffect(()=>{T(null)},[A]),n.useEffect(()=>{try{const a=te();a&&i({id:a.id,first_name:a.first_name,last_name:a.last_name,username:a.username,display_name:[a.first_name,a.last_name].filter(Boolean).join(" "),photo_url:a.photo_url??"",balance:0})}catch{}},[]);const be=n.useCallback(a=>{R(a),s&&(v(),Z("last_tab",a))},[s]),ve=n.useCallback(a=>{g(a),a&&s&&v()},[s]),Se=n.useCallback(a=>{T(a),a&&s&&v()},[s]);n.useEffect(()=>{s&&(async()=>{const a=await X("last_tab");a&&["order","history","deposit","more"].includes(a)&&R(a)})()},[s]);const _e={user:t,isTelegramApp:s,services:r,recommendedIds:u,selectedPlatform:m,selectedCategory:A,selectedService:E,orders:ae,deposits:ne,alerts:oe,chatMessages:ie,rateMultiplier:b.rateMultiplier,discountPercent:b.discountPercent,holidayName:b.holidayName,maintenanceMode:b.maintenanceMode,userCanOrder:b.userCanOrder,marqueeText:b.marqueeText,activeTab:le,toasts:de,isLoading:ue,unreadAlerts:me,setUser:i,setActiveTab:be,setSelectedPlatform:ve,setSelectedCategory:h,setSelectedService:Se,setOrders:I,setDeposits:M,setAlerts:D,setChatMessages:ce,setBalance:pe,setIsLoading:fe,setUnreadAlerts:B,showToast:ye,removeToast:ge,refreshServices:F,refreshOrders:N,refreshDeposits:U,refreshAlerts:V};return o.jsx(se.Provider,{value:_e,children:e})}const mt=[{id:"order",label:"Order",icon:"ðŸ›’"},{id:"history",label:"History",icon:"ðŸ“‹"},{id:"deposit",label:"Deposit",icon:"ðŸ’°"},{id:"more",label:"More",icon:"âš™ï¸"}];function ht(){const{activeTab:e,setActiveTab:s,unreadAlerts:t}=L(),i=r=>{s(r),v()};return o.jsx(q,{children:mt.map(r=>o.jsx(q.Item,{selected:e===r.id,text:r.id==="more"&&t>0?`${r.label} (${t>9?"9+":t})`:r.label,onClick:()=>i(r.id),children:o.jsx("span",{style:{fontSize:24},children:r.icon})},r.id))})}const pt={success:"âœ…",error:"âŒ",info:"â„¹ï¸"};function yt(){const{toasts:e,removeToast:s}=L();if(e.length===0)return null;const t=e[e.length-1];return o.jsx(Ce,{before:o.jsx("span",{style:{fontSize:20},children:pt[t.type]||"â„¹ï¸"}),description:t.message,onClose:()=>s(t.id),duration:3e3,children:t.type==="success"?"Success":t.type==="error"?"Error":"Info"},t.id)}function gt({visible:e}){return e?o.jsx("div",{style:{position:"fixed",inset:0,zIndex:300,background:"var(--tg-theme-secondary-bg-color, rgba(0,0,0,0.5))",display:"flex",alignItems:"center",justifyContent:"center",opacity:.85},children:o.jsx(Ae,{size:"l"})}):null}const bt=n.lazy(()=>_(()=>import("./OrderPage-Btorz1I5.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.OrderPage}))),vt=n.lazy(()=>_(()=>import("./HistoryPage-DP0ABU2t.js"),__vite__mapDeps([5,1,2,3,4])).then(e=>({default:e.HistoryPage}))),St=n.lazy(()=>_(()=>import("./DepositPage-Tzw0FBOg.js"),__vite__mapDeps([6,1,2,3,4])).then(e=>({default:e.DepositPage}))),_t=n.lazy(()=>_(()=>import("./MorePage-BLKeAD4J.js"),__vite__mapDeps([7,1,2,3,4])).then(e=>({default:e.MorePage}))),xt=()=>o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:o.jsx("div",{style:{width:20,height:20,border:"2px solid #222",borderTopColor:"#3498db",borderRadius:"50%",animation:"spin .6s linear infinite"}})});function Tt(){const{activeTab:e,setActiveTab:s,isLoading:t}=L(),i=n.useRef(null);return n.useEffect(()=>{const r=i.current;if(!r)return;const c=()=>{r.scrollTop===0&&(r.scrollTop=1)};return r.addEventListener("touchstart",c,{passive:!0}),()=>r.removeEventListener("touchstart",c)},[]),n.useEffect(()=>{if(e!=="order"){try{we()}catch{}const r=Ee(()=>{s("order")});return()=>{r();try{H()}catch{}}}else try{H()}catch{}},[e,s]),n.useEffect(()=>{try{const r=je(()=>{s("more"),v()});return()=>r()}catch{}},[s]),o.jsxs(K,{children:[o.jsx("div",{className:"scroll-wrapper",ref:i,children:o.jsxs(n.Suspense,{fallback:o.jsx(xt,{}),children:[e==="order"&&o.jsx(bt,{}),e==="history"&&o.jsx(vt,{}),e==="deposit"&&o.jsx(St,{}),e==="more"&&o.jsx(_t,{})]})}),o.jsx(ht,{}),o.jsx(yt,{}),o.jsx(gt,{visible:t})]})}function Ct(){return o.jsx(ft,{children:o.jsx(Tt,{})})}class At extends n.Component{state={};static getDerivedStateFromError=s=>({error:s});componentDidCatch(s){this.setState({error:s})}render(){const{state:{error:s},props:{fallback:t,children:i}}=this;return"error"in this.state?typeof t=="function"?o.jsx(t,{error:s}):t:i}}function Pt({error:e}){return o.jsxs("div",{style:{padding:20,textAlign:"center",color:"#ff4757"},children:[o.jsx("p",{children:"Something went wrong:"}),o.jsx("blockquote",{children:o.jsx("code",{children:e instanceof Error?e.message:typeof e=="string"?e:JSON.stringify(e)})})]})}function kt(){return o.jsx(At,{fallback:Pt,children:o.jsx(Ct,{})})}function wt(){const[e,s]=n.useMemo(()=>{try{const t=w(),{bg_color:i}=t.tgWebAppThemeParams;return[t.tgWebAppPlatform,i&&Le(i)?Oe(i):!1]}catch{return["android",!1]}},[]);return o.jsx(K,{appearance:s?"dark":"light",platform:["macos","ios"].includes(e)?"ios":"base",children:o.jsx(Pe,{header:"Oops",description:"You are using too old Telegram client to run this application",children:o.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})})}async function Et(e){if(Ie(e.debug),Me(),e.mockForMacOS){let t=!1;De({onEvent(i,r){if(i[0]==="web_app_request_theme"){let c={};return t?c=ze():(t=!0,c||=w().tgWebAppThemeParams),Y("theme_changed",{theme_params:c})}if(i[0]==="web_app_request_safe_area")return Y("safe_area_changed",{left:0,top:0,right:0,bottom:0});r()}})}Re.ifAvailable(),Be(),y.mountSync.isAvailable()&&(y.mountSync(),Fe()),re();const s=[];$.isAvailable()&&s.push($().then(()=>{Ne(),ee()}).catch(()=>{})),s.push((async()=>{try{const{setHeaderColor:t,setBackgroundColor:i}=await _(async()=>{const{setHeaderColor:r,setBackgroundColor:c}=await Promise.resolve().then(()=>nt);return{setHeaderColor:r,setBackgroundColor:c}},void 0);t("#0a0a0f"),i("#0a0a0f")}catch{}})()),s.push((async()=>{try{if(Ue.ifAvailable(),Ve.ifAvailable(),W.isAvailable()){W();try{qe()}catch{}}}catch{}})()),e.eruda&&_(async()=>{const{default:t}=await import("./eruda-BSaaGdH0.js").then(i=>i.e);return{default:t}},__vite__mapDeps([8,1])).then(({default:t})=>{t.init(),t.position({x:window.innerWidth-50,y:0})}),await Promise.allSettled(s)}const J=Te.createRoot(document.getElementById("root"));try{const e=w(),{tgWebAppPlatform:s}=e,t=(e.tgWebAppStartParam||"").includes("platformer_debug")||!1;Et({debug:t,eruda:t&&["ios","android"].includes(s),mockForMacOS:s==="macos"}).then(()=>{}),J.render(o.jsx(n.StrictMode,{children:o.jsx(kt,{})}))}catch{J.render(o.jsx(wt,{}))}export{Ye as P,Dt as Q,tt as a,Je as b,Xe as c,Ze as d,Qe as e,Mt as f,It as g,v as h,Ke as i,rt as o,et as s,L as u};
